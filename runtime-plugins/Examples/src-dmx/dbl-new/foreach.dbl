#import "../dbl"
#import "../stdlib"

module foreach {

extension ForEach {
	Statement -> ForEach;
	ForEach -> "foreach" "(" elementVariable:Variable "in" collection:Expression ")" body:LocalScopeStatement;
}
semantics {
	expand "Iterator it = " collection ".iterator();";
	expand "while (it.hasNext()) {";
	expand "	Object object = it.next();";
	expand 		elementVariable " = object as " elementVariable.classifierType ";";
	expand		body;
	expand "}";
}

}